# RecoMart Configuration for Data Ingestion Pipeline

# Data paths
data:
  raw_path: "data/raw"
  validated_path: "data/validated"
  processed_path: "data/processed"
  features_path: "data/features"
  archive_path: "data/archive"
  staging_path: "data/staging"

# CSV Ingestion configuration
ingestion:
  retry_attempts: 3
  retry_delay: 5
  chunk_size: 1000  # Smaller chunks for debugging
  backup_files: true

# API Ingestion configuration
api_ingestion:
  retry_attempts: 3
  retry_delay: 5
  timeout: 30
  batch_size: 100
  rate_limit_delay: 1
  backup_responses: true

# API Endpoints configuration
api_endpoints:
  products:
    url: "https://dummyjson.com/products"
    method: "GET"
    params:
      limit: 100
      skip: 0
    headers:
      Content-Type: "application/json"
    auth: null
  categories:
    url: "https://dummyjson.com/products/categories"
    method: "GET"
    params: {}
    headers:
      Content-Type: "application/json"
    auth: null

# Scheduling configuration
scheduling:
  csv_ingestion:
    enabled: true
    interval: "6h"  # every 6 hours
    start_time: "08:00"
  api_ingestion:
    enabled: true
    interval: "2h"  # every 2 hours
    start_time: "09:00"
  monitoring:
    health_check_interval: "30m"
    cleanup_interval: "24h"
    log_retention_days: 30

# Logging configuration
logging:
  level: "INFO"
  format: "%(asctime)s - %(name)s - %(levelname)s - [%(filename)s:%(lineno)d] - %(message)s"
  file: "ingestion/logs/ingestion.log"
  max_size_mb: 10